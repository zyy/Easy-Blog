<style type="text/css">
td.intro{
	max-width: 200px;
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
	cursor:default;
}
</style>
<form class="form-inline" role="form" action="" name="projectListForm">
	<div class="form-group">
		<label for="search-project-name" class="sr-only">用户名称搜索</label>
		<input id="search-project-name" type="text" class="form-control" name="name" value="${name!}" placeholder="输入项目名称" maxlength="30"/>	
	</div>
	<button class="btn btn-default" type="submit">
		<span class="glyphicon glyphicon-search"></span>&nbsp;搜索
	</button>
	<button class="btn btn-warning" type="button" data-toggle="modal" data-target="#add-post-modal">
		<span class="glyphicon glyphicon-plus"></span>&nbsp;写文章
	</button>
</form>
<#--添加项目模态框-->
<div class="modal fade bs-example-modal-lg" id="add-post-modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        		<h4 class="modal-title">写文章</h4>
			</div>
			<form class="form-horizontal" role="form" style="margin-bottom:0;" action="" method="post" name="addProjectForm">
			<div class="modal-body">
				<div class="form-group">
					<label class="col-md-1 control-label" for="ipt-project-name">名称:</label>
					<div class="col-md-10">
						<input type="text" minlength="2" maxlength="60" id="ipt-project-name" name="project.name" class="form-control" placeholder="60字以内" required />
					</div>
				</div>
				<div class="form-group">
					<label class="col-md-1 control-label" for="textarea-project-intro">简介:</label>
					<div class="col-md-10">
						<textarea id="container" class="input-xlarge"></textarea>
					    <script type="text/javascript">
					        var ue = UE.getEditor('container');
					    </script>
					</div>
				</div>
			</div>
			<div class="modal-footer" style="margin-top:0px;">
				<button class="btn btn-default" type="button" data-dismiss="modal">算了，放弃</button>
				<button class="btn btn-primary" type="submit">确定提交</button>
			</div>
			</form>
		</div>
	</div>
</div>
<#--添加项目模态框end-->
<#if posts?? && posts?size gt 0>
	<div class="table-responsive">
	<table class="table table-hover">
		<thead>
			<tr>
				<th>#</th>
				<th>标题</th>
				<th>作者</th>
				<th>日期</th>
				<th>分类</th>
				<th>浏览量</th>
			</tr>
		</thead>
		<tbody>
			<#list posts as post >
			<tr>
				<td>${post.id}</td>
				<td>${post.title}</td>
				<td>${post.name}</td>
				<td>${post.post_date}</td>
				<td>${post.id}</td>
				<td>${post.views}</td>
			</tr>
			</#list>
		</tbody>
	</table>
	</div>
<#else>
<div class="alert alert-warning">无可显示数据</div>
</#if>
<script type="text/javascript">
	$(document.projectListForm).ajaxForm({
		target : "#col-content"
	});
	$("td.intro").popover({
		placement : "left",
		container : "#col-content",
		trigger : "hover"
	});
	$("[data-toggle='tooltip-menu']").tooltipMenu();
	$("#modify-intro-modal").bind(
			"hidden.bs.modal",
			function(e) {
				$("#modify-intro-modal").removeData("bs.modal").find(
						".modal-content").empty();
			});
	$(function(){
		$("#add-post-modal").bind("hidden.bs.modal",function(){
			$(this).removeData("bs.modal").find(".modal-content").empty();
		});
		$("#view-task-modal").bind("hidden.bs.modal",function(){
			$(this).removeData("bs.modal").find(".modal-content").empty();
		});
		$("#view-task-log-modal").bind("hidden.bs.modal",function(){
			$(this).removeData("bs.modal").find(".modal-content").empty();
		});
		//对下拉的多选与单选禁止点击事件传播，从而阻止点击后下拉菜单关闭
		$(".input-xlarge").click(function(e){
			e.stopPropagation();
		});
	});
</script>
